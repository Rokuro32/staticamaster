[
  {
    "id": "m1-q1-decomposition",
    "module": 1,
    "tags": ["vectors", "decomposition", "trigonometry"],
    "difficulty": "beginner",
    "type": "numeric",
    "active": true,
    "title": "Décomposition d'un vecteur force",
    "statement": "Une force F = {F} N est appliquée selon un angle de {angle}° par rapport à l'horizontale. Calculez la composante horizontale Fx de cette force.",
    "givens": {
      "F": 100,
      "angle": 30
    },
    "unknowns": ["Fx"],
    "answer": {
      "variable": "Fx",
      "value": 86.6,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "La composante horizontale utilise le cosinus de l'angle",
      "Fx = F × cos(θ)",
      "N'oubliez pas de convertir l'angle en radians si votre calculatrice est en mode radian"
    ],
    "commonMistakes": [
      {
        "pattern": "50",
        "patternType": "value",
        "message": "Vous avez utilisé le sinus au lieu du cosinus",
        "hint": "Pour la composante horizontale (x), utilisez cos(θ)",
        "category": "formula"
      },
      {
        "pattern": "0.866",
        "patternType": "value",
        "message": "Vous avez oublié de multiplier par la force F",
        "hint": "Fx = F × cos(θ), pas juste cos(θ)",
        "category": "calculation"
      }
    ],
    "explanation": "Pour décomposer un vecteur, on utilise Fx = F × cos(θ) pour la composante horizontale et Fy = F × sin(θ) pour la composante verticale. Ici, Fx = 100 × cos(30°) = 100 × 0.866 = 86.6 N.",
    "parameters": {
      "F": { "min": 50, "max": 200, "step": 10, "unit": "N" },
      "angle": { "min": 15, "max": 75, "step": 15, "unit": "°" }
    },
    "answerFormula": "F * cos(rad(angle))"
  },
  {
    "id": "m1-q2-resultante",
    "module": 1,
    "tags": ["vectors", "resultant"],
    "difficulty": "intermediate",
    "type": "numeric",
    "active": true,
    "title": "Résultante de deux forces",
    "statement": "Deux forces sont appliquées au même point: F1 = {F1} N horizontalement vers la droite et F2 = {F2} N verticalement vers le haut. Calculez la magnitude de la force résultante R.",
    "givens": {
      "F1": 40,
      "F2": 30
    },
    "unknowns": ["R"],
    "answer": {
      "variable": "R",
      "value": 50,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "Les deux forces sont perpendiculaires",
      "Utilisez le théorème de Pythagore",
      "R² = F1² + F2²"
    ],
    "commonMistakes": [
      {
        "pattern": "70",
        "patternType": "value",
        "message": "Vous avez additionné les forces directement",
        "hint": "Les forces sont perpendiculaires, utilisez Pythagore: R = √(F1² + F2²)",
        "category": "concept"
      },
      {
        "pattern": "2500",
        "patternType": "value",
        "message": "Vous avez oublié d'extraire la racine carrée",
        "hint": "R = √(F1² + F2²), n'oubliez pas √",
        "category": "calculation"
      }
    ],
    "explanation": "Quand deux forces sont perpendiculaires, la résultante se calcule par Pythagore: R = √(F1² + F2²) = √(40² + 30²) = √(1600 + 900) = √2500 = 50 N.",
    "parameters": {
      "F1": { "min": 20, "max": 80, "step": 10, "unit": "N" },
      "F2": { "min": 20, "max": 80, "step": 10, "unit": "N" }
    },
    "answerFormula": "sqrt(F1*F1 + F2*F2)"
  },
  {
    "id": "m1-q3-produit-vectoriel",
    "module": 1,
    "tags": ["cross-product", "moment"],
    "difficulty": "intermediate",
    "type": "numeric",
    "active": true,
    "title": "Produit vectoriel (moment)",
    "statement": "Une force F = {F} N est appliquée perpendiculairement à un bras de levier de longueur r = {r} m. Calculez le module du moment résultant M = |r × F|.",
    "givens": {
      "F": 50,
      "r": 2
    },
    "unknowns": ["M"],
    "answer": {
      "variable": "M",
      "value": 100,
      "unit": "N·m",
      "tolerance": 1,
      "toleranceType": "absolute"
    },
    "hints": [
      "Le produit vectoriel de vecteurs perpendiculaires donne |r × F| = r × F × sin(90°)",
      "sin(90°) = 1",
      "Le module est simplement r × F"
    ],
    "commonMistakes": [
      {
        "pattern": "25",
        "patternType": "value",
        "message": "Vous avez divisé au lieu de multiplier",
        "hint": "M = r × F, pas r/F ou F/r",
        "category": "formula"
      }
    ],
    "explanation": "Pour le produit vectoriel, |r × F| = r × F × sin(θ). Quand les vecteurs sont perpendiculaires (θ = 90°), sin(90°) = 1, donc M = r × F = 2 m × 50 N = 100 N·m.",
    "parameters": {
      "F": { "min": 20, "max": 100, "step": 10, "unit": "N" },
      "r": { "min": 1, "max": 5, "step": 0.5, "unit": "m" }
    },
    "answerFormula": "r * F"
  },
  {
    "id": "m1-q4-trigonometrie",
    "module": 1,
    "tags": ["trigonometry"],
    "difficulty": "beginner",
    "type": "mcq",
    "active": true,
    "title": "Relations trigonométriques",
    "statement": "Dans un triangle rectangle, si l'angle θ = 45°, quelle est la relation entre les côtés opposé et adjacent?",
    "givens": {
      "theta": 45
    },
    "unknowns": [],
    "options": [
      {
        "id": "a",
        "text": "Le côté opposé est égal au côté adjacent",
        "isCorrect": true,
        "feedback": "Correct! tan(45°) = 1, donc opposé = adjacent"
      },
      {
        "id": "b",
        "text": "Le côté opposé est le double du côté adjacent",
        "isCorrect": false,
        "feedback": "Cela serait vrai pour tan(θ) = 2, soit θ ≈ 63.4°"
      },
      {
        "id": "c",
        "text": "Le côté opposé est la moitié du côté adjacent",
        "isCorrect": false,
        "feedback": "Cela serait vrai pour tan(θ) = 0.5, soit θ ≈ 26.6°"
      },
      {
        "id": "d",
        "text": "Le côté opposé est égal à l'hypoténuse",
        "isCorrect": false,
        "feedback": "Cela impliquerait que cos(θ) = 0, soit θ = 90°"
      }
    ],
    "answer": {
      "variable": "relation",
      "value": 1,
      "unit": "",
      "tolerance": 0,
      "toleranceType": "absolute"
    },
    "hints": [
      "Rappelez-vous que tan(θ) = opposé/adjacent",
      "Quelle est la valeur de tan(45°)?"
    ],
    "commonMistakes": [],
    "explanation": "À 45°, tan(45°) = 1, ce qui signifie que opposé/adjacent = 1, donc les deux côtés sont égaux. C'est un triangle isocèle rectangle."
  },
  {
    "id": "m1-q5-conversion",
    "module": 1,
    "tags": ["vectors"],
    "difficulty": "beginner",
    "type": "numeric",
    "active": true,
    "title": "Angle d'un vecteur",
    "statement": "Un vecteur a des composantes Fx = {Fx} N et Fy = {Fy} N. Calculez l'angle θ (en degrés) que fait ce vecteur avec l'axe horizontal positif.",
    "givens": {
      "Fx": 30,
      "Fy": 40
    },
    "unknowns": ["theta"],
    "answer": {
      "variable": "θ",
      "value": 53.13,
      "unit": "°",
      "tolerance": 1,
      "toleranceType": "absolute"
    },
    "hints": [
      "Utilisez la fonction arctangente",
      "θ = arctan(Fy/Fx)",
      "Assurez-vous de convertir le résultat en degrés"
    ],
    "commonMistakes": [
      {
        "pattern": "0.927",
        "patternType": "value",
        "message": "Vous avez donné la réponse en radians",
        "hint": "Convertissez en degrés: multipliez par 180/π",
        "category": "unit"
      },
      {
        "pattern": "36.87",
        "patternType": "value",
        "message": "Vous avez inversé Fx et Fy",
        "hint": "θ = arctan(Fy/Fx), pas arctan(Fx/Fy)",
        "category": "formula"
      }
    ],
    "explanation": "L'angle se calcule par θ = arctan(Fy/Fx) = arctan(40/30) = arctan(1.333) = 53.13°.",
    "parameters": {
      "Fx": { "min": 10, "max": 50, "step": 10, "unit": "N" },
      "Fy": { "min": 10, "max": 50, "step": 10, "unit": "N" }
    },
    "answerFormula": "deg(atan(Fy/Fx))"
  },
  {
    "id": "m1-q6-resultante-trois-forces",
    "module": 1,
    "tags": ["vectors", "resultant", "decomposition"],
    "difficulty": "advanced",
    "type": "numeric",
    "active": true,
    "title": "Résultante de trois forces à angles variés",
    "statement": "Trois forces sont appliquées au même point: F1 = {F1} N à 0°, F2 = {F2} N à {angle2}°, et F3 = {F3} N à {angle3}°. Calculez la magnitude de la force résultante R.",
    "givens": {
      "F1": 100,
      "F2": 80,
      "angle2": 45,
      "F3": 60,
      "angle3": 150
    },
    "unknowns": ["R"],
    "answer": {
      "variable": "R",
      "value": 119.6,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "Décomposez chaque force en composantes x et y",
      "Additionnez toutes les composantes x, puis toutes les composantes y",
      "R = √(Rx² + Ry²)"
    ],
    "commonMistakes": [
      {
        "pattern": "240",
        "patternType": "value",
        "message": "Vous avez additionné les magnitudes directement",
        "hint": "Les forces ont des directions différentes, décomposez-les d'abord",
        "category": "concept"
      }
    ],
    "explanation": "Rx = 100×cos(0°) + 80×cos(45°) + 60×cos(150°) = 100 + 56.57 - 51.96 = 104.61 N. Ry = 100×sin(0°) + 80×sin(45°) + 60×sin(150°) = 0 + 56.57 + 30 = 86.57 N. R = √(104.61² + 86.57²) = 119.6 N.",
    "parameters": {
      "F1": { "min": 80, "max": 150, "step": 10, "unit": "N" },
      "F2": { "min": 50, "max": 100, "step": 10, "unit": "N" },
      "angle2": { "min": 30, "max": 60, "step": 15, "unit": "°" },
      "F3": { "min": 40, "max": 80, "step": 10, "unit": "N" },
      "angle3": { "min": 120, "max": 180, "step": 15, "unit": "°" }
    },
    "answerFormula": "sqrt(pow(F1*cos(rad(0)) + F2*cos(rad(angle2)) + F3*cos(rad(angle3)), 2) + pow(F1*sin(rad(0)) + F2*sin(rad(angle2)) + F3*sin(rad(angle3)), 2))"
  },
  {
    "id": "m1-q7-loi-cosinus",
    "module": 1,
    "tags": ["vectors", "law-of-cosines"],
    "difficulty": "advanced",
    "type": "numeric",
    "active": true,
    "title": "Résultante avec loi des cosinus",
    "statement": "Deux forces F1 = {F1} N et F2 = {F2} N sont appliquées au même point avec un angle de {angle}° entre elles. Calculez la magnitude de la résultante R en utilisant la loi des cosinus.",
    "givens": {
      "F1": 120,
      "F2": 80,
      "angle": 60
    },
    "unknowns": ["R"],
    "answer": {
      "variable": "R",
      "value": 175.1,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "La loi des cosinus pour les vecteurs: R² = F1² + F2² + 2×F1×F2×cos(θ)",
      "L'angle θ est l'angle ENTRE les deux forces",
      "Attention: cette formule est différente de la loi des cosinus pour les triangles"
    ],
    "commonMistakes": [
      {
        "pattern": "144.2",
        "patternType": "value",
        "message": "Vous avez utilisé le signe moins au lieu du plus",
        "hint": "Pour la résultante de vecteurs: R² = F1² + F2² + 2×F1×F2×cos(θ)",
        "category": "formula"
      }
    ],
    "explanation": "R² = F1² + F2² + 2×F1×F2×cos(60°) = 120² + 80² + 2×120×80×0.5 = 14400 + 6400 + 9600 = 30400. R = √30400 = 175.1 N.",
    "parameters": {
      "F1": { "min": 80, "max": 150, "step": 10, "unit": "N" },
      "F2": { "min": 50, "max": 100, "step": 10, "unit": "N" },
      "angle": { "min": 30, "max": 120, "step": 15, "unit": "°" }
    },
    "answerFormula": "sqrt(F1*F1 + F2*F2 + 2*F1*F2*cos(rad(angle)))"
  },
  {
    "id": "m1-q8-direction-resultante",
    "module": 1,
    "tags": ["vectors", "resultant", "direction"],
    "difficulty": "advanced",
    "type": "numeric",
    "active": true,
    "title": "Direction de la résultante",
    "statement": "Deux forces sont appliquées: F1 = {F1} N à 0° et F2 = {F2} N à {angle2}°. Calculez l'angle (en degrés) que fait la résultante avec l'axe horizontal.",
    "givens": {
      "F1": 50,
      "F2": 80,
      "angle2": 60
    },
    "unknowns": ["theta_R"],
    "answer": {
      "variable": "θR",
      "value": 38.2,
      "unit": "°",
      "tolerance": 1,
      "toleranceType": "absolute"
    },
    "hints": [
      "Calculez d'abord Rx et Ry",
      "θR = arctan(Ry/Rx)",
      "Vérifiez le quadrant pour la bonne valeur de l'angle"
    ],
    "commonMistakes": [
      {
        "pattern": "51.8",
        "patternType": "value",
        "message": "Vous avez inversé Rx et Ry dans le calcul",
        "hint": "θR = arctan(Ry/Rx), pas arctan(Rx/Ry)",
        "category": "formula"
      }
    ],
    "explanation": "Rx = 50×cos(0°) + 80×cos(60°) = 50 + 40 = 90 N. Ry = 50×sin(0°) + 80×sin(60°) = 0 + 69.28 = 69.28 N. θR = arctan(69.28/90) = 37.6° ≈ 38.2°.",
    "parameters": {
      "F1": { "min": 30, "max": 80, "step": 10, "unit": "N" },
      "F2": { "min": 50, "max": 100, "step": 10, "unit": "N" },
      "angle2": { "min": 30, "max": 90, "step": 15, "unit": "°" }
    },
    "answerFormula": "deg(atan((F1*sin(rad(0)) + F2*sin(rad(angle2))) / (F1*cos(rad(0)) + F2*cos(rad(angle2)))))"
  },
  {
    "id": "m1-q9-moment-angle",
    "module": 1,
    "tags": ["cross-product", "moment", "trigonometry"],
    "difficulty": "expert",
    "type": "numeric",
    "active": true,
    "title": "Moment avec force inclinée",
    "statement": "Une force F = {F} N est appliquée à l'extrémité d'un bras de longueur r = {r} m. La force fait un angle de {alpha}° avec le bras. Calculez le moment résultant par rapport au pivot.",
    "givens": {
      "F": 200,
      "r": 1.5,
      "alpha": 40
    },
    "unknowns": ["M"],
    "answer": {
      "variable": "M",
      "value": 192.8,
      "unit": "N·m",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "Le moment dépend de la composante perpendiculaire de la force",
      "M = r × F × sin(α)",
      "α est l'angle entre le vecteur position et la force"
    ],
    "commonMistakes": [
      {
        "pattern": "229.8",
        "patternType": "value",
        "message": "Vous avez utilisé cos au lieu de sin",
        "hint": "Le moment utilise sin car seule la composante perpendiculaire crée un moment",
        "category": "formula"
      }
    ],
    "explanation": "Le moment M = r × F × sin(α) = 1.5 × 200 × sin(40°) = 1.5 × 200 × 0.643 = 192.8 N·m.",
    "parameters": {
      "F": { "min": 100, "max": 300, "step": 20, "unit": "N" },
      "r": { "min": 1, "max": 2.5, "step": 0.25, "unit": "m" },
      "alpha": { "min": 20, "max": 80, "step": 10, "unit": "°" }
    },
    "answerFormula": "r * F * sin(rad(alpha))"
  },
  {
    "id": "m1-q10-produit-scalaire",
    "module": 1,
    "tags": ["dot-product", "vectors"],
    "difficulty": "advanced",
    "type": "numeric",
    "active": true,
    "title": "Produit scalaire de deux vecteurs",
    "statement": "Deux vecteurs A et B ont des magnitudes |A| = {A} et |B| = {B}. L'angle entre eux est de {angle}°. Calculez le produit scalaire A·B.",
    "givens": {
      "A": 15,
      "B": 20,
      "angle": 45
    },
    "unknowns": ["dotProduct"],
    "answer": {
      "variable": "A·B",
      "value": 212.1,
      "unit": "",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "Le produit scalaire: A·B = |A|×|B|×cos(θ)",
      "Le résultat est un scalaire (nombre), pas un vecteur",
      "cos(45°) = √2/2 ≈ 0.707"
    ],
    "commonMistakes": [
      {
        "pattern": "212",
        "patternType": "value",
        "message": "Vous avez utilisé sin au lieu de cos",
        "hint": "Le produit SCALAIRE utilise cos, le produit VECTORIEL utilise sin",
        "category": "formula"
      }
    ],
    "explanation": "A·B = |A|×|B|×cos(θ) = 15 × 20 × cos(45°) = 300 × 0.707 = 212.1.",
    "parameters": {
      "A": { "min": 10, "max": 25, "step": 5, "unit": "" },
      "B": { "min": 15, "max": 30, "step": 5, "unit": "" },
      "angle": { "min": 0, "max": 90, "step": 15, "unit": "°" }
    },
    "answerFormula": "A * B * cos(rad(angle))"
  },
  {
    "id": "m1-q11-decomposition-3d",
    "module": 1,
    "tags": ["vectors", "3d", "decomposition"],
    "difficulty": "expert",
    "type": "numeric",
    "active": true,
    "title": "Décomposition 3D d'une force",
    "statement": "Une force F = {F} N a pour composantes Fx = {Fx} N et Fy = {Fy} N. Sachant que |F|² = Fx² + Fy² + Fz², calculez la composante Fz.",
    "givens": {
      "F": 100,
      "Fx": 60,
      "Fy": 40
    },
    "unknowns": ["Fz"],
    "answer": {
      "variable": "Fz",
      "value": 69.3,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "Utilisez la relation |F|² = Fx² + Fy² + Fz²",
      "Isolez Fz²: Fz² = |F|² - Fx² - Fy²",
      "Fz = √(|F|² - Fx² - Fy²)"
    ],
    "commonMistakes": [
      {
        "pattern": "4800",
        "patternType": "value",
        "message": "Vous avez oublié la racine carrée",
        "hint": "Fz = √(|F|² - Fx² - Fy²), n'oubliez pas √",
        "category": "calculation"
      }
    ],
    "explanation": "Fz² = F² - Fx² - Fy² = 100² - 60² - 40² = 10000 - 3600 - 1600 = 4800. Fz = √4800 = 69.3 N.",
    "parameters": {
      "F": { "min": 80, "max": 150, "step": 10, "unit": "N" },
      "Fx": { "min": 30, "max": 70, "step": 10, "unit": "N" },
      "Fy": { "min": 20, "max": 50, "step": 10, "unit": "N" }
    },
    "answerFormula": "sqrt(F*F - Fx*Fx - Fy*Fy)"
  },
  {
    "id": "m1-q12-projection-vecteur",
    "module": 1,
    "tags": ["vectors", "projection"],
    "difficulty": "expert",
    "type": "numeric",
    "active": true,
    "title": "Projection d'un vecteur sur un autre",
    "statement": "Un vecteur A de magnitude {A} fait un angle de {angle}° avec un vecteur B. Calculez la projection scalaire de A sur B (la composante de A dans la direction de B).",
    "givens": {
      "A": 50,
      "angle": 30
    },
    "unknowns": ["proj"],
    "answer": {
      "variable": "projB(A)",
      "value": 43.3,
      "unit": "",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "La projection scalaire de A sur B est |A|×cos(θ)",
      "C'est la 'ombre' de A sur B",
      "proj_B(A) = |A|×cos(θ)"
    ],
    "commonMistakes": [
      {
        "pattern": "25",
        "patternType": "value",
        "message": "Vous avez utilisé sin au lieu de cos",
        "hint": "La projection utilise cos(θ), pas sin(θ)",
        "category": "formula"
      }
    ],
    "explanation": "La projection scalaire de A sur B est |A|×cos(θ) = 50 × cos(30°) = 50 × 0.866 = 43.3.",
    "parameters": {
      "A": { "min": 30, "max": 80, "step": 10, "unit": "" },
      "angle": { "min": 15, "max": 75, "step": 15, "unit": "°" }
    },
    "answerFormula": "A * cos(rad(angle))"
  }
]
