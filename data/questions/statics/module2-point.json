[
  {
    "id": "m2-q1-dcl-suspendu",
    "module": 2,
    "tags": ["dcl", "equilibrium-2d"],
    "difficulty": "beginner",
    "type": "dcl",
    "active": true,
    "title": "DCL - Point suspendu par deux câbles",
    "statement": "Un objet de masse m = {m} kg est suspendu par deux câbles. Le câble de gauche fait un angle de 45° avec l'horizontale et celui de droite fait un angle de 60° avec l'horizontale. Construisez le diagramme de corps libre du point de jonction.",
    "givens": {
      "m": 10,
      "g": 9.81,
      "angle1": 45,
      "angle2": 60
    },
    "unknowns": ["T1", "T2"],
    "schema": {
      "type": "point",
      "width": 500,
      "height": 400,
      "elements": [
        { "id": "point", "type": "point", "position": { "x": 250, "y": 200 }, "label": "O" }
      ],
      "correctForces": [
        { "id": "W", "name": "W", "angle": 270, "applicationPoint": { "x": 250, "y": 200 }, "color": "#dc2626" },
        { "id": "T1", "name": "T₁", "angle": 135, "applicationPoint": { "x": 250, "y": 200 }, "color": "#2563eb", "isUnknown": true },
        { "id": "T2", "name": "T₂", "angle": 60, "applicationPoint": { "x": 250, "y": 200 }, "color": "#2563eb", "isUnknown": true }
      ],
      "correctSupports": []
    },
    "answer": {
      "variable": "W",
      "value": 98.1,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "Le poids W agit vers le bas (270°)",
      "Les tensions des câbles tirent vers l'extérieur le long des câbles",
      "Identifiez 3 forces: W, T1, T2"
    ],
    "commonMistakes": [
      {
        "pattern": "tension-inward",
        "patternType": "regex",
        "message": "Les tensions doivent tirer vers l'extérieur, pas vers l'intérieur",
        "hint": "Un câble ne peut que tirer, jamais pousser",
        "category": "concept"
      }
    ],
    "explanation": "Le DCL du point montre trois forces: le poids W vers le bas, et les deux tensions T1 et T2 le long des câbles, tirant vers l'extérieur.",
    "parameters": {
      "m": { "min": 5, "max": 20, "step": 5, "unit": "kg" }
    }
  },
  {
    "id": "m2-q2-equilibre-cables",
    "module": 2,
    "tags": ["equilibrium-2d", "dcl"],
    "difficulty": "intermediate",
    "type": "numeric",
    "active": true,
    "title": "Équilibre - Tension dans un câble",
    "statement": "Un objet de poids W = {W} N est suspendu par un câble faisant un angle de {angle}° avec la verticale. Le câble est attaché à un mur. Calculez la tension T dans le câble.",
    "givens": {
      "W": 100,
      "angle": 30
    },
    "unknowns": ["T"],
    "equations": {
      "required": ["ΣFx=0", "ΣFy=0"],
      "forms": []
    },
    "answer": {
      "variable": "T",
      "value": 115.47,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "La composante verticale de T doit équilibrer W",
      "T × cos(angle) = W",
      "Donc T = W / cos(angle)"
    ],
    "commonMistakes": [
      {
        "pattern": "86.6",
        "patternType": "value",
        "message": "Vous avez multiplié par cos au lieu de diviser",
        "hint": "T = W / cos(θ), car la composante verticale de T égale W",
        "category": "formula"
      },
      {
        "pattern": "50",
        "patternType": "value",
        "message": "Vous avez utilisé sin au lieu de cos pour la composante verticale",
        "hint": "L'angle est par rapport à la verticale, donc utilisez cos",
        "category": "concept"
      }
    ],
    "explanation": "À l'équilibre, ΣFy = 0: T×cos(30°) - W = 0. Donc T = W/cos(30°) = 100/0.866 = 115.47 N.",
    "parameters": {
      "W": { "min": 50, "max": 200, "step": 25, "unit": "N" },
      "angle": { "min": 15, "max": 45, "step": 15, "unit": "°" }
    },
    "answerFormula": "W / cos(rad(angle))"
  },
  {
    "id": "m2-q3-force-resultante",
    "module": 2,
    "tags": ["resultant", "vectors"],
    "difficulty": "beginner",
    "type": "numeric",
    "active": true,
    "title": "Force résultante de trois forces",
    "statement": "Trois forces coplanaires agissent sur un point: F1 = {F1} N vers la droite, F2 = {F2} N vers le haut, et F3 = {F3} N vers la gauche. Calculez la magnitude de la force résultante.",
    "givens": {
      "F1": 80,
      "F2": 60,
      "F3": 20
    },
    "unknowns": ["R"],
    "answer": {
      "variable": "R",
      "value": 84.85,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "Additionnez d'abord les composantes x: Rx = F1 - F3",
      "Additionnez les composantes y: Ry = F2",
      "Puis R = √(Rx² + Ry²)"
    ],
    "commonMistakes": [
      {
        "pattern": "160",
        "patternType": "value",
        "message": "Vous avez additionné toutes les forces directement",
        "hint": "Les forces ont des directions différentes, on ne peut pas les additionner directement",
        "category": "concept"
      },
      {
        "pattern": "100",
        "patternType": "value",
        "message": "Vous avez soustrait F3 de F1 mais pas combiné avec F2",
        "hint": "N'oubliez pas de combiner Rx et Ry avec Pythagore",
        "category": "calculation"
      }
    ],
    "explanation": "Rx = F1 - F3 = 80 - 20 = 60 N. Ry = F2 = 60 N. R = √(60² + 60²) = √7200 = 84.85 N.",
    "parameters": {
      "F1": { "min": 50, "max": 100, "step": 10, "unit": "N" },
      "F2": { "min": 40, "max": 80, "step": 10, "unit": "N" },
      "F3": { "min": 10, "max": 40, "step": 10, "unit": "N" }
    },
    "answerFormula": "sqrt(pow(F1-F3, 2) + pow(F2, 2))"
  },
  {
    "id": "m2-q4-force-equilibrante",
    "module": 2,
    "tags": ["equilibrant", "equilibrium-2d"],
    "difficulty": "intermediate",
    "type": "numeric",
    "active": true,
    "title": "Force équilibrante",
    "statement": "Deux forces agissent sur un point: F1 = {F1} N à 0° (vers la droite) et F2 = {F2} N à 90° (vers le haut). Calculez la magnitude de la force équilibrante Fe nécessaire pour maintenir l'équilibre.",
    "givens": {
      "F1": 30,
      "F2": 40
    },
    "unknowns": ["Fe"],
    "answer": {
      "variable": "Fe",
      "value": 50,
      "unit": "N",
      "tolerance": 2,
      "toleranceType": "percent"
    },
    "hints": [
      "La force équilibrante est égale et opposée à la résultante",
      "Calculez d'abord la résultante R",
      "Fe = R en magnitude, mais dans la direction opposée"
    ],
    "commonMistakes": [
      {
        "pattern": "70",
        "patternType": "value",
        "message": "Vous avez additionné les forces directement",
        "hint": "Utilisez Pythagore car les forces sont perpendiculaires",
        "category": "concept"
      }
    ],
    "explanation": "La résultante R = √(30² + 40²) = 50 N. La force équilibrante Fe a la même magnitude mais la direction opposée: Fe = 50 N.",
    "parameters": {
      "F1": { "min": 20, "max": 60, "step": 10, "unit": "N" },
      "F2": { "min": 20, "max": 60, "step": 10, "unit": "N" }
    },
    "answerFormula": "sqrt(F1*F1 + F2*F2)"
  },
  {
    "id": "m2-q5-membrure-deux-forces",
    "module": 2,
    "tags": ["two-force-member", "equilibrium-2d"],
    "difficulty": "intermediate",
    "type": "mcq",
    "active": true,
    "title": "Membrure à deux forces",
    "statement": "Une membrure AB est soumise uniquement à des forces aux points A et B, sans autre charge. Quelle affirmation est vraie?",
    "givens": {},
    "unknowns": [],
    "options": [
      {
        "id": "a",
        "text": "Les forces en A et B sont colinéaires avec l'axe de la membrure",
        "isCorrect": true,
        "feedback": "Correct! Pour une membrure à deux forces en équilibre, les forces doivent être égales, opposées et colinéaires."
      },
      {
        "id": "b",
        "text": "Les forces en A et B peuvent avoir n'importe quelle direction",
        "isCorrect": false,
        "feedback": "Non, pour maintenir l'équilibre sans moment, les forces doivent être colinéaires."
      },
      {
        "id": "c",
        "text": "La force en A est toujours plus grande que celle en B",
        "isCorrect": false,
        "feedback": "Non, les forces sont égales en magnitude (3e loi de Newton)."
      },
      {
        "id": "d",
        "text": "La membrure peut être en équilibre même si les forces ne sont pas alignées",
        "isCorrect": false,
        "feedback": "Non, des forces non alignées créeraient un moment non nul."
      }
    ],
    "answer": {
      "variable": "réponse",
      "value": 1,
      "unit": "",
      "tolerance": 0,
      "toleranceType": "absolute"
    },
    "hints": [
      "Pensez aux conditions d'équilibre: ΣF = 0 et ΣM = 0",
      "Si les forces ne sont pas colinéaires, elles créent un moment"
    ],
    "commonMistakes": [],
    "explanation": "Une membrure à deux forces est un élément qui n'a que deux points d'application de force et aucune charge entre ces points. Pour être en équilibre, les deux forces doivent être égales en magnitude, de directions opposées, et colinéaires (alignées avec l'axe de la membrure). Sinon, il y aurait un moment net non nul."
  }
]
